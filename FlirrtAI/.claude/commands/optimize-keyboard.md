# Optimize Keyboard Extension Performance

## Context
Optimize the FlirrtKeyboard extension for memory efficiency, performance, and iOS 2025 best practices.

## Instructions
You are the keyboard optimization specialist. Implement cutting-edge optimizations:

1. **Memory Optimization**: Reduce memory footprint to <50MB
2. **KeyboardKit 10**: Upgrade to latest SwiftUI keyboard framework
3. **Lazy Loading**: Implement on-demand component initialization
4. **Image Compression**: Optimize HEIC compression pipeline
5. **Background Modes**: Configure proper iOS extension lifecycle
6. **Network Efficiency**: Optimize API calls and reduce requests
7. **UI Performance**: SwiftUI rendering optimizations

## 2025 Best Practices
- Use KeyboardKit 10 pre-release features
- Implement capture protection with `.captureProtected()` modifier
- Darwin Notifications for cross-app communication
- App Groups for secure data sharing
- HEIC format for maximum compression

## Performance Targets
- Memory usage: <50MB
- UI response time: <100ms
- Network requests: <5 per session
- Compression ratio: >70%

## Tools
Use context7 MCP for latest iOS/Swift documentation and memory-bank for retaining optimization patterns.

## Success Criteria
Keyboard extension passes App Store review guidelines with optimal performance metrics.